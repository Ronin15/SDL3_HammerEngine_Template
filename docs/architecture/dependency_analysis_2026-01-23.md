# HammerEngine Dependency Analysis Report

**Generated:** 2026-01-23 21:51:31
**Branch:** resource_update
**Analysis Mode:** Full Architecture Audit

---

## Executive Summary

**Architecture Health Score:** 94/100 (A+ EXCELLENT)

**Status:** âœ… ARCHITECTURE HEALTHY

**Key Findings:**
- No circular dependencies detected
- Layer boundaries properly respected
- Manager coupling is functional (game systems require interaction)
- 2 minor header bloat issues in GameStates

---

## Dependency Statistics

**Codebase Size:**
- Total headers analyzed: 108
- Dependency edges: 208

**Dependency Metrics:**
- Average dependencies per file: ~2.3
- Max dependency depth: 5 (moderate)
- Circular dependencies: 0 âœ…

---

## Circular Dependencies

âœ… **NO CIRCULAR DEPENDENCIES DETECTED**

All include hierarchies are acyclic. Compilation order is deterministic.

---

## Coupling Analysis

### High Fan-Out Components (Top 10)

| Component | Fan-Out | Status |
|-----------|---------|--------|
| GamePlayState.hpp | 10 | ğŸŸ¡ MODERATE |
| EventDemoState.hpp | 10 | ğŸŸ¡ MODERATE |
| AdvancedAIDemoState.hpp | 7 | ğŸŸ¡ MODERATE |
| AttackBehavior.hpp | 6 | ğŸŸ¡ MODERATE |
| AIDemoState.hpp | 6 | ğŸŸ¡ MODERATE |
| CollisionManager.hpp | 6 | ğŸŸ¡ MODERATE |
| EntityDataManager.hpp | 6 | ğŸŸ¡ MODERATE |

### Core Headers (High Fan-In)

| Header | Dependents | Role |
|--------|-----------|------|
| Vector2D.hpp | 36 | â­ CORE |
| EntityHandle.hpp | 19 | ğŸ“¦ STABLE |
| Event.hpp | 15 | ğŸ“¦ STABLE |
| GameState.hpp | 12 | ğŸ“¦ STABLE |
| Entity.hpp | 11 | ğŸ“¦ STABLE |

### Manager Coupling Assessment

**Important:** Game engines have necessary functional dependencies. The following coupling is CORRECT and expected:

âœ… **Functional Coupling (Correct Design):**
- AIManager â†’ CollisionManager (AI obstacle avoidance)
- AIManager â†’ PathfinderManager (AI navigation)
- CollisionManager â†’ WorldManager (world geometry)
- Managers â†’ EventManager (event-driven notifications)

**Status:** All manager coupling serves clear game functionality.

---

## Layer Violations

### Layer Compliance Check

| Layer | Status | Notes |
|-------|--------|-------|
| Core | âœ… COMPLIANT | GameEngine orchestrates managers (correct) |
| Managers | âœ… COMPLIANT | GameStateManager knows GameState interface |
| States | âœ… COMPLIANT | All inherit from GameState base (correct) |
| Utils | âš ï¸ MINOR | BinarySerializer includes Logger |

**Details:**
- Coreâ†’Manager dependency is correct (engine owns managers)
- States inheriting from GameState.hpp is correct OOP
- Only 1 minor issue: BinarySerializer could forward-declare Logger

---

## Header Bloat Analysis

### High-Include Headers

| Header | Includes | Recommendation |
|--------|----------|----------------|
| GamePlayState.hpp | 10 | Consider moving some to .cpp |
| EventDemoState.hpp | 10 | Consider moving some to .cpp |

### Core Headers (Monitor for Bloat)

Vector2D.hpp is included by 36 files but has 0 local includes - this is correct for a utility header.

---

## Dependency Depth Analysis

### Highest Depth Headers

| Header | Depth | Impact |
|--------|-------|--------|
| AdvancedAIDemoState.hpp | 5 | ğŸŸ¡ MODERATE |
| GamePlayState.hpp | 5 | ğŸŸ¡ MODERATE |
| AIDemoState.hpp | 5 | ğŸŸ¡ MODERATE |
| EventDemoState.hpp | 5 | ğŸŸ¡ MODERATE |

**Statistics:**
- Total depth: 198
- Average depth: 2.3
- Maximum depth: 5 (reasonable for game engine)

---

## Architecture Health Scorecard

| Category | Score | Weight | Weighted | Status |
|----------|-------|--------|----------|--------|
| Circular Dependencies | 10/10 | 30% | 30.0 | âœ… |
| Layer Compliance | 9/10 | 25% | 22.5 | âœ… |
| Coupling Strength | 10/10 | 20% | 20.0 | âœ… |
| Header Bloat | 8/10 | 15% | 12.0 | âœ… |
| Dependency Depth | 9/10 | 10% | 9.0 | âœ… |
| **TOTAL** | | **100%** | **94/100** | **A+** |

---

## Recommendations

### Optional Improvements (Low Priority)

1. **GamePlayState/EventDemoState header optimization**
   - Move some includes to .cpp files
   - Use forward declarations where possible
   - Priority: LOW, Impact: Faster compilation

2. **BinarySerializer forward declaration**
   - Forward-declare Logger instead of including
   - Move include to .cpp
   - Priority: LOW

### Continue Current Practices

âœ… The architecture is well-maintained. Continue:
- Keeping core utilities dependency-free
- Using EventManager for cross-system communication
- Maintaining clear layer boundaries
- Documenting functional coupling decisions

---

## Files Analyzed

- **Headers scanned:** 108
- **Dependencies mapped:** 208 edges
- **Layers validated:** 4 (Core, Managers, States, Utils)

---

**Report Generated By:** hammer-dependency-analyzer skill
**Analysis Duration:** ~5 minutes
